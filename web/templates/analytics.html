
{% extends "base.html" %}

{% block stylesheet %}
	<link rel="stylesheet" type="text/css" href="/static/stylesheets/analytics.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
{% endblock%}

<!-- http://www.chartjs.org/docs/ -->

{% block content %}
	<article>
		<h1 class="center">Search the Data</h1>
		<input id="search" type="search" name="search" placeholder="search analytics data" autocomplete="off">
		{% if data %}
			<p>Found data!</p>
<!-- 			<canvas id="data-chart" width="200" height="200"></canvas>
			<script>
				var ctx = document.getElementById("data-chart");
				var myChart = new Chart(ctx, {
				    type: 'bar',
				    data: {
				        labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
				        datasets: [{
				            label: '# of Votes',
				            data: [12, 19, 3, 5, 2, 3],
				            backgroundColor: [
				                'rgba(255, 99, 132, 0.2)',
				                'rgba(54, 162, 235, 0.2)',
				                'rgba(255, 206, 86, 0.2)',
				                'rgba(75, 192, 192, 0.2)',
				                'rgba(153, 102, 255, 0.2)',
				                'rgba(255, 159, 64, 0.2)'
				            ],
				            borderColor: [
				                'rgba(255,99,132,1)',
				                'rgba(54, 162, 235, 1)',
				                'rgba(255, 206, 86, 1)',
				                'rgba(75, 192, 192, 1)',
				                'rgba(153, 102, 255, 1)',
				                'rgba(255, 159, 64, 1)'
				            ],
				            borderWidth: 1
				        }]
				    },
				    options: {
				        scales: {
				            yAxes: [{
				                ticks: {
				                    beginAtZero:true
				                }
				            }]
				        }
				    }
				});
			</script> -->
			<p>{{ data }}</p>
		{% endif %}
	</article>
{% endblock %}
{% block scripts %}
	<script type="text/javascript">
		var searchField = document.getElementById("search");
		searchField.addEventListener('keyup', function(e) {
			if (searchField.value.length == 0) {
				return;
			}
			if (e.keyCode === 13) {
				window.location.href = '/analytics/' + searchField.value;
			}
		}, false);
	</script>
{% endblock %}
